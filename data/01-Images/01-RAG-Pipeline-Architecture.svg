<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">Complete RAG Pipeline Architecture</text>
  
  <!-- Document Processing Section -->
  <g>
    <!-- Section Background -->
    <rect x="20" y="50" width="230" height="180" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="8"/>
    <text x="135" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">Document Processing</text>
    
    <!-- Document Icons -->
    <rect x="40" y="85" width="30" height="35" fill="#fff" stroke="#666" stroke-width="1" rx="2"/>
    <text x="55" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">PDF</text>
    
    <rect x="80" y="85" width="30" height="35" fill="#fff" stroke="#666" stroke-width="1" rx="2"/>
    <text x="95" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">DOC</text>
    
    <rect x="120" y="85" width="30" height="35" fill="#fff" stroke="#666" stroke-width="1" rx="2"/>
    <text x="135" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">TXT</text>
    
    <rect x="160" y="85" width="30" height="35" fill="#fff" stroke="#666" stroke-width="1" rx="2"/>
    <text x="175" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">HTML</text>
    
    <!-- Processing Steps -->
    <rect x="40" y="135" width="170" height="25" fill="#bbdefb" stroke="#1976d2" stroke-width="1" rx="4"/>
    <text x="125" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#1976d2">Text Extraction</text>
    
    <rect x="40" y="170" width="170" height="25" fill="#bbdefb" stroke="#1976d2" stroke-width="1" rx="4"/>
    <text x="125" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#1976d2">Cleaning & Preprocessing</text>
    
    <rect x="40" y="205" width="170" height="25" fill="#bbdefb" stroke="#1976d2" stroke-width="1" rx="4"/>
    <text x="125" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#1976d2">Text Chunking</text>
  </g>
  
  <!-- Simple Arrow from Document Processing to Embedding -->
  <polygon points="250,135 270,140 250,145" fill="#333"/>
  <line x1="250" y1="140" x2="300" y2="140" stroke="#333" stroke-width="2"/>
  
  <!-- Embedding Generation Section -->
  <g>
    <rect x="300" y="50" width="200" height="180" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="8"/>
    <text x="400" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4caf50">Embedding Generation</text>
    
    <!-- Text Chunks -->
    <rect x="320" y="85" width="160" height="20" fill="#c8e6c9" stroke="#4caf50" stroke-width="1" rx="3"/>
    <text x="400" y="97" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2e7d32">Text Chunk 1</text>
    
    <rect x="320" y="110" width="160" height="20" fill="#c8e6c9" stroke="#4caf50" stroke-width="1" rx="3"/>
    <text x="400" y="122" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2e7d32">Text Chunk 2</text>
    
    <rect x="320" y="135" width="160" height="20" fill="#c8e6c9" stroke="#4caf50" stroke-width="1" rx="3"/>
    <text x="400" y="147" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2e7d32">Text Chunk N</text>
    
    <!-- Embedding Model -->
    <rect x="320" y="170" width="160" height="30" fill="#81c784" stroke="#4caf50" stroke-width="2" rx="5"/>
    <text x="400" y="188" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1b5e20">Embedding Model</text>
    <text x="400" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#1b5e20">(BERT, OpenAI, etc.)</text>
    
    <!-- Vectors -->
    <text x="400" y="218" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2e7d32">[0.23, -0.45, 0.67, ...]</text>
  </g>
  
  <!-- Simple Arrow from Embedding to Vector Storage -->
  <polygon points="500,135 520,140 500,145" fill="#333"/>
  <line x1="500" y1="140" x2="550" y2="140" stroke="#333" stroke-width="2"/>
  
  <!-- Vector Storage Section -->
  <g>
    <rect x="550" y="50" width="230" height="180" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="8"/>
    <text x="665" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ff9800">Vector Storage</text>
    
    <!-- Database Icon -->
    <circle cx="665" cy="110" r="25" fill="#ffcc02" stroke="#ff9800" stroke-width="2"/>
    <text x="665" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e65100">DB</text>
    
    <!-- Vector Database Options -->
    <text x="665" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e65100">Pinecone, Chroma,</text>
    <text x="665" y="158" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e65100">Weaviate, FAISS</text>
    
    <!-- Index -->
    <rect x="580" y="175" width="170" height="25" fill="#ffe0b2" stroke="#ff9800" stroke-width="1" rx="4"/>
    <text x="665" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e65100">Vector Index (ANN/KNN)</text>
    
    <!-- Metadata -->
    <rect x="580" y="205" width="170" height="20" fill="#ffe0b2" stroke="#ff9800" stroke-width="1" rx="4"/>
    <text x="665" y="217" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#e65100">Metadata Storage</text>
  </g>
  
  <!-- Query Processing Section -->
  <g>
    <rect x="20" y="270" width="230" height="120" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="8"/>
    <text x="135" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#9c27b0">Query Processing</text>
    
    <!-- User Query -->
    <rect x="40" y="305" width="170" height="25" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" rx="4"/>
    <text x="125" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#6a1b9a">User Query</text>
    
    <!-- Query Embedding -->
    <rect x="40" y="340" width="170" height="25" fill="#e1bee7" stroke="#9c27b0" stroke-width="1" rx="4"/>
    <text x="125" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#6a1b9a">Query Embedding</text>
  </g>
  
  <!-- Simple Arrow from Query to Retrieval -->
  <polygon points="250,325 270,330 250,335" fill="#333"/>
  <line x1="250" y1="330" x2="300" y2="330" stroke="#333" stroke-width="2"/>
  
  <!-- Retrieval Section -->
  <g>
    <rect x="300" y="270" width="200" height="120" fill="#fce4ec" stroke="#e91e63" stroke-width="2" rx="8"/>
    <text x="400" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#e91e63">Similarity Search</text>
    
    <!-- Search Process -->
    <rect x="320" y="305" width="160" height="20" fill="#f8bbd9" stroke="#e91e63" stroke-width="1" rx="3"/>
    <text x="400" y="317" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#ad1457">Vector Similarity</text>
    
    <rect x="320" y="330" width="160" height="20" fill="#f8bbd9" stroke="#e91e63" stroke-width="1" rx="3"/>
    <text x="400" y="342" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#ad1457">Top-K Results</text>
    
    <rect x="320" y="355" width="160" height="20" fill="#f8bbd9" stroke="#e91e63" stroke-width="1" rx="3"/>
    <text x="400" y="367" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#ad1457">Relevant Chunks</text>
  </g>
  
  <!-- Simple Arrow from Retrieval to Generation -->
  <polygon points="500,325 520,330 500,335" fill="#333"/>
  <line x1="500" y1="330" x2="550" y2="330" stroke="#333" stroke-width="2"/>
  
  <!-- Generation Section -->
  <g>
    <rect x="550" y="270" width="230" height="120" fill="#e0f2f1" stroke="#009688" stroke-width="2" rx="8"/>
    <text x="665" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#009688">Response Generation</text>
    
    <!-- LLM -->
    <rect x="580" y="305" width="170" height="30" fill="#b2dfdb" stroke="#009688" stroke-width="2" rx="5"/>
    <text x="665" y="323" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#00695c">Large Language Model</text>
    
    <!-- Context + Query -->
    <text x="665" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#00695c">Retrieved Context + Query</text>
    
    <!-- Final Answer -->
    <rect x="580" y="360" width="170" height="20" fill="#b2dfdb" stroke="#009688" stroke-width="1" rx="4"/>
    <text x="665" y="372" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#00695c">Generated Answer</text>
  </g>
  
  <!-- Query to Vector Store Connection -->
  <line x1="400" y1="270" x2="400" y2="250" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="400" y1="250" x2="665" y2="250" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="665" y1="250" x2="665" y2="270" stroke="#666" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="660,265 665,270 670,265" fill="#666"/>
  
  <!-- Data Flow Labels -->
  <text x="500" y="245" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Query Vector & Similar Vectors</text>
  
  <!-- System Components Legend -->
  <g>
    <rect x="20" y="420" width="760" height="160" fill="#ffffff" stroke="#ccc" stroke-width="1" rx="8"/>
    <text x="400" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">RAG System Components</text>
    
    <!-- Component Details -->
    <text x="40" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1976d2">1. Document Processing:</text>
    <text x="40" y="475" font-family="Arial, sans-serif" font-size="11" fill="#333">• Extract text from various formats (PDF, DOC, HTML, etc.)</text>
    <text x="40" y="488" font-family="Arial, sans-serif" font-size="11" fill="#333">• Clean and preprocess text data</text>
    <text x="40" y="501" font-family="Arial, sans-serif" font-size="11" fill="#333">• Split into manageable chunks with overlap</text>
    
    <text x="400" y="460" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4caf50">2. Embedding Generation:</text>
    <text x="400" y="475" font-family="Arial, sans-serif" font-size="11" fill="#333">• Convert text chunks to dense vector representations</text>
    <text x="400" y="488" font-family="Arial, sans-serif" font-size="11" fill="#333">• Use pre-trained models (BERT, OpenAI, Sentence-BERT)</text>
    <text x="400" y="501" font-family="Arial, sans-serif" font-size="11" fill="#333">• Maintain semantic meaning in vector space</text>
    
    <text x="40" y="525" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ff9800">3. Vector Storage:</text>
    <text x="40" y="540" font-family="Arial, sans-serif" font-size="11" fill="#333">• Store vectors in specialized databases</text>
    <text x="40" y="553" font-family="Arial, sans-serif" font-size="11" fill="#333">• Build efficient indices for fast retrieval</text>
    <text x="40" y="566" font-family="Arial, sans-serif" font-size="11" fill="#333">• Maintain metadata and original text references</text>
    
    <text x="400" y="525" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e91e63">4. Retrieval & Generation:</text>
    <text x="400" y="540" font-family="Arial, sans-serif" font-size="11" fill="#333">• Embed user queries and find similar vectors</text>
    <text x="400" y="553" font-family="Arial, sans-serif" font-size="11" fill="#333">• Retrieve top-K most relevant document chunks</text>
    <text x="400" y="566" font-family="Arial, sans-serif" font-size="11" fill="#333">• Generate contextually-aware responses using LLM</text>
  </g>
</svg>
